{% extends 'template.html' %}

{% block title %}Home{% endblock %}

{% block content %}
    <div id="interfaceTarefas">
        <form id="form" action="/execute/" method="POST">
            <input type="text" placeholder="Pesquisar">
            <button type="button">Adcionar Tarefa</button>
            <button type="submit" name="Form" value=0>Terminar Tarefas</button>
            <button type="submit" name="Form" value=1>Deletar Tarefas</button>

            <table>
                <tr>
                    <th>Selecionar</th>
                    <th>Titulo</th>
                    <th>Descrição</th>
                    <th>Criado em</th>
                    <th>Prazo</th>
                    <th>Editado</th>
                    <th>Editar</th>
                    <th>Deletar</th>
                </tr>
                {% if list %}
                    {% for line in list %}
                        {% if line[3] == 0 %}
                            {% if line[7] == 0 %}
                                <tr>
                                    <td>Vazio</td>
                                    <td>Vazio</td>
                                    <td>Vazio</td>
                                    <td>Vazio</td>
                                    <td>Vazio</td>
                                    <td>Vazio</td>
                                    <input type="hidden" name="id" value="{{line[0]}}">
                                    <td><button type="submit" name="Form" value=3{{line[0]}}>Editar</button></td>
                                    <td><button type="submit" name="Form" value=4{{line[0]}}>Deletar</button></td>
                                </tr>
                            {% else %}
                                <tr id="lineExpired">
                                    <td>Vazio</td>
                                    <td>Vazio</td>
                                    <td>Vazio</td>
                                    <td>Vazio</td>
                                    <td>Vazio</td>
                                    <td>Vazio</td>
                                    <input type="hidden" name="id" value="{{line[0]}}">
                                    <td><button type="submit" name="Form" value=3{{line[0]}}>Editar</button></td>
                                    <td><button type="submit" name="Form" value=4{{line[0]}}>Deletar</button></td>
                                </tr>
                            {% endif %}
                        {% else %}
                            <tr id="lineFeita">
                                <td>Vazio</td>
                                <td>Vazio</td>
                                <td>Vazio</td>
                                <td>Vazio</td>
                                <td>Vazio</td>
                                <td>Vazio</td>
                                <input type="hidden" name="id" value="{{line[0]}}">
                                <td><button type="submit" name="Form" value=3>Editar</button></td>
                                <td><button type="submit" name="Form" value=4>Deletar</button></td>
                            </tr>
                        {% endif %}
                    {% endfor %}
                {% else %}
                    <tr>
                        <td>Vazio</td>
                        <td>Vazio</td>
                        <td>Vazio</td>
                        <td>Vazio</td>
                        <td>Vazio</td>
                        <td>Vazio</td>
                        <td>Vazio</td>
                        <td>Vazio</td>
                    </tr>
                {% endif %}
            </table>
        </form>
        <form id="addForm" action="/execute/" method="POST">
            <input type="text" placeholder="Titulo">
            <textarea name="description" id="textDescription"></textarea>
            <input type="datetime-local" name="prazo" id="date" min="{{dataMin}}" max="{{dataMax}}">
            <button type="button" id="closeForm">Cancelar</button>
            <button type="submit" id="addForm" name="Form" value="5">Adicionar</button>
        </form>
    </div>
{% endblock %}

{% block scripts %} <script src="{{url_for('static', filename='js/tarefas.js')}}"></script> {% endblock %}